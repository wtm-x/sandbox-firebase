<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!-- Firebase elements -->
<link rel="import" href="../../bower_components/firebase-element/firebase.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-document.html">

<dom-module id="women-techmakers">
<template>

  <style>
    :host {
      display: block;
    }
    @media (max-width: 600px) {
      h1.paper-font-display1 {
        font-size: 24px;
      }
    }
    .demo-card-square.mdl-card {
      width: 240px;
      height: 320px;
    }
    .demo-card-square > .mdl-card__title {
      color: #fff;
      font-size: 28px;
      font-weight: 900;
    }
    .circle-image {
      border-radius: 50%;
      width: 60%;
      height: 80%;
      margin: auto; 
      padding-top: 14px;
    }
    .square-image {
      width: 60%;
      height: 80%;
      margin: auto;
    }
    .card-lesson {
      margin: 10px;
      min-width: 200px;
      min-height: 100px;
      & > .mdl-card__actions {
        display: flex;
        box-sizing: border-box;
        align-items: center;
      }
      & > .mdl-card__title {
        align-items: flex-start;
        & > h4 {
          margin-top: 0;
        }
      }
      & > .mdl-card__title,
      & > .mdl-card__supporting-text,
      & > .mdl-card__actions,
      & > .mdl-card__actions > .mdl-button {
        color: #fff;
      }
    }
  </style>

  <firebase-collection
    location="https://wtm-x.firebaseio.com/users"
    order-by-child="displayName"
    data="{{users}}">
  </firebase-collection>


  <!-- Display user image as background image -->
  <div class="mdl-grid">
  <template is="dom-repeat" items="[[users]]">
    <div class="mdl-card demo-card-square mdl-cell mdl-cell--4-col mdl-shadow--2dp">
      <!-- This does not display image -->
      <div class="mdl-card__title mdl-card--expand" style={{computeStyle(item.0.imageUrl)}}>
        <h2 class="mdl-card__title-text">[[item.0.displayName]]</h2>
        <!-- <img src="[[item.0.imageUrl]]" class="circle-image"</> -->
      </div>
      <div class="mdl-card__supporting-text">
        <span>[[item.0.occupation]]</span>
      </div>
      <div class="mdl-card__actions mdl-card--border mdl-color--teal-50">
        <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
          View Profile
        </a>
      </div>
    </div>
  </template> 
  </div>


  <!--
  <template is="dom-repeat" items="[[users]]">
    <div class="demo-card-square mdl-card mdl-shadow--2dp">
      <!-- This does not display image 
      <div class="mdl-card__title mdl-card--expand"> style="background:url(<span>[[item.0.imageUrl]]</span>) center no-repeat #46B6AC">  
        <h2 class="mdl-card__title-text">[[item.0.displayName]]</h2>
        <img src="[[item.0.imageUrl]]" class="circle-image"</> 
      </div>
      <div class="mdl-card__supporting-text">
        <span>[[item.0.occupation]]</span>
      </div>
      <div class="mdl-card__actions mdl-card--border">
        <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
          View Profile
        </a>
      </div>
    </div>
    <br><br>
  </template> 
  -->

  <!-- Example from http://codepen.io/mdlhut/pen/PqgmqQ -->
  <!-- 
  <div class="mdl-grid">
  <template is="dom-repeat" items="[[users]]">
  <div class="mdl-cell mdl-cell--4-col card-lesson mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title">
      <h2 class="mdl-card__title-text">[[item.0.displayName]]</h2>
      <img src="{{item.0.imageUrl}}" class="circle-image"</>
    </div>
    <div class="mdl-card__supporting-text">
      <span>[[item.0.occupation]]</span>
    </div>
    <div class="mdl-card__actions mdl-card--border mdl-color--teal-50 ">
      <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">View Profile</button>
    </div>
  </div>
  </template>
  </div>
-->
  
</template>

  <script>
    (function() {
      Polymer({
        is: 'women-techmakers',

        properties: {
          users: {
            type: Array,
          }
        },

        computeStyle: function(imageUrl) {
          var bkgdImageURL = "url(" + imageUrl + ");";
          var style = "background-image: "+ bkgdImageURL + " background-size: cover; background-repeat: no-repeat; background-position: center;";
          console.log("Style: " + style);
          return style;
        }

      }); //End of Polymer
    })();
  </script>

</dom-module>
